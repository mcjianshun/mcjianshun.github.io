<html lang="zh"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>åŒ¹é…ä¸¹æ–¹v2.4</title><style>body {font-family: Arial, sans-serif;background-color: #f4f4f4;display: flex;justify-content: center;margin: 0;padding: 0 10px;}.container {background-color: #fff;padding: 20px;border-radius: 8px;box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);width: 100%;max-width: 600px;position: static;}h1 {text-align: center;margin-bo\ttom: 5px;}h2 {text-align: center;margin-bottom: 5px;}textarea {width: 100%;height: 100px;margin-bottom: 20px;padding: 10px;border: 1px solid #ccc;border-radius: 4px;resize: none;}button {display: block;width: 100%;padding: 15px;background-color: #ffb6c1;color: #333;border: none;border-radius: 4px;cursor: pointer;font-size: 10px;margin-bottom: 10px;}#s0 {display: inline-block;width: 23%;padding: 5px;margin: 2px;text-align: center;}button:hover {background-color: #ff91a4;}.copy-button1 {background-color: #ffb6c1;padding: 0;width: 80px;height: 30px;font-size: 14px;line-height: 30px;cursor: pointer;border: none;margin-left: 10px;text-align: center;color: #333;display: inline-block;}.copy-button1:hover {background-color: #ff91a4;}.item {margin-bottom: 3px;display: flex;justify-content: space-between;}.item span {white-space: nowrap;font-size: 10px;line-height: 15px;}@media (max-width: 600px) {.container {padding: 10px;}button {padding: 10px;}}#notification {position: absolute;bottom: 20px;left: 50%;transform: translateX(-50%);background-color: #ffb6c1;color: #333;padding: 10px;border-radius: 5px;box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);z-index: 1000;display: none;}.profit-info {margin-top: 20px;padding: 15px;background-color: #f8f9fa;border-radius: 8px;border: 1px solid #dee2e6;}.profit-info h3 {margin-top: 0;margin-bottom: 10px;text-align: center;color: #333;}.profit-item {display: flex;justify-content: space-between;margin-bottom: 8px;padding-bottom: 8px;border-bottom: 1px dashed #ddd;}.profit-item:last-child {border-bottom: none;}.profit-label {font-weight: bold;color: #555;}.profit-value {font-weight: bold;color: #28a745;}.checkbox-container {margin-bottom: 15px;display: flex;align-items: center;}.checkbox-container input {margin-right: 10px;}.checkbox-label {font-size: 14px;color: #333;margin-right: 15px;}.checkbox-row {display: flex;justify-content: space-between;margin-bottom: 15px;}.announcement {background-color: #ffb6c1;color: #333;padding: 10px;border-radius: 5px;margin-bottom: 15px;text-align: center;font-size: 14px;border: 1px solid #ff91a4;}.ad-banner {background-color: #ffe4e9;color: #333;padding: 15px;border-radius: 5px;margin-top: 20px;text-align: center;font-size: 14px;border: 1px solid #ffb6c1;box-shadow: 0 2px 4px rgba(0,0,0,0.05);}.ad-banner a {color: #d2698c;text-decoration: none;font-weight: bold;}.ad-banner a:hover {text-decoration: underline;}.footer {margin-top: 10px;padding: 10px;text-align: center;font-size: 12px;color: #999;border-top: 1px solid #eee;}</style></head><body><div class="container"><div class="announcement">ğŸ“¢ å…¬å‘Šï¼šv2.4æ›´æ–°ï¼è·¨å“çº§ä½¿ç”¨è¾…è¯åŠŸèƒ½å·²ä¸Šçº¿ï¼å‹¾é€‰â€œä½¿ç”¨è·¨å“çº§è¾…è¯â€å¯æœ€å¤§åŒ–åˆ©ç”¨è¯æã€‚<br>â­æƒ³è¦è·å–æ›´å¤šç‚¼ä¸¹å¸®åŠ©å¿«åŠ å…¥qç¾¤1042788857<br>ğŸ‰ å¹¿å‘Šï¼šæœ¬ç½‘ç«™å¹¿å‘Šä½æ‹›ç§Ÿ(å¯æŠ•æ”¾å®—é—¨/ç¾¤èŠç­‰å¹¿å‘Š)ï¼Œæœ‰æ„å‘è€…ç§èŠqq3219077230</div><h1>åŒ¹é…ä¸¹æ–¹v2.4</h1><div class="checkbox-row"><div class="checkbox-container"><input type="checkbox" id="use-high-herbs"><label class="checkbox-label" for="use-high-herbs">ä½¿ç”¨ä¸‰å››å“æ€§å¹³è¯å¼•</label></div><div class="checkbox-container"><input type="checkbox" id="use-cross-herbs"><label class="checkbox-label" for="use-cross-herbs">ä½¿ç”¨è·¨å“çº§è¾…è¯</label></div></div><textarea id="user-input" placeholder="è¯·è¾“å…¥è¯æ..."></textarea><button id="process-button">è®¡ç®—å¯ç»ƒä¸¹è¯</button><button id="clear-button">æ¸…ç©º</button><div id="herb-info">&nbsp;</div><div id="profit-info" class="profit-info" style="display:none;"><h3>æ€»åˆ©æ¶¦ä¼°ç®—</h3><div class="profit-item"><span class="profit-label">æ¯ç‚‰5é¢—ï¼š</span><span class="profit-value" id="profit-5">0</span></div><div class="profit-item"><span class="profit-label">æ¯ç‚‰6é¢—ï¼š</span><span class="profit-value" id="profit-6">0</span></div><div class="profit-item"><span class="profit-label">æ¯ç‚‰7é¢—ï¼š</span><span class="profit-value" id="profit-7">0</span></div></div><div class="ad-banner">âœ¨ å¹¿å‘Š âœ¨<br>æ„Ÿè°¢å„ä½å¯¹æœ¬ç«™çš„æ”¯æŒï¼Œä»¥ä¸‹æ˜¯å¹¿å‘Šå†…å®¹<br>å¹¿å‘Šä½1.ğŸ“¢æ¸…æ¸¸ä»™å°Šå®—é—¨ç¾¤625322183</div><div class="footer">Powered by å‰‘èˆœ Â· ç‰ˆæœ¬ v2.4</div></div><script>let li = {'æ‘„é­‚é¬¼ä¸¸': ['é…æ–¹ä¸»è¯ç´«çŒ´èŠ±1è¯å¼•è½»çµè‰1è¾…è¯æ«é¦™è„‚1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯ä¹å¶èŠ1è¯å¼•é¾™è‘µ1è¾…è¯ç‚¼é­‚ç 1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯å¹»å¿ƒè‰1è¯å¼•å¼—å…°è‰1è¾…è¯ç„å†°èŠ±1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯é¬¼è‡¼è‰1è¯å¼•ç„å‚1è¾…è¯ç‚¼è¡€ç 1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰'],'åŒ–ç…é­”ä¸¸': ['é…æ–¹ä¸»è¯è¡€è²ç²¾1è¯å¼•è©æèŠ±1è¾…è¯çŸ³é¾™èŠ®1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯é¸¡å† è‰1è¯å¼•ä¹Œç¨ æœ¨1è¾…è¯é”¦åœ°ç½—1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯é“¶ç²¾èŠ1è¯å¼•é›ªå‡èŠ±1è¾…è¯å†°çµæœ1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯ç‰é«“èŠ1è¯å¼•é¾™çº¹è‰1è¾…è¯ç‰é¾™å‚1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰'],'ç´ å¿ƒçœŸä¸¸': ['é…æ–¹ä¸»è¯åœ°å¿ƒç«èŠ1è¯å¼•å¤©çµæœ1è¾…è¯ä¼´å¦–è‰1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯å¤©è‰çµå¶1è¯å¼•ç¯å¿ƒè‰1è¾…è¯å‰‘å¿ƒç«¹1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯é›ªç‰éª¨å‚1è¯å¼•ç©¿å¿ƒè²1è¾…è¯ç»é­‚è‰1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯è…éª¨çµèŠ±1è¯å¼•é¾™é³æœ1è¾…è¯æœˆçµèŠ±1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰'],'ç­ç¥å¤ä¸¸': ['é…æ–¹ä¸»è¯ä¸‰å¶é’èŠ1è¯å¼•ç™½æ²‰è„‚1è¾…è¯æ··å…ƒæœ1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯ä¸ƒå½©æœˆå…°1è¯å¼•è‹¦æ›¼è—¤1è¾…è¯çš‡é¾™èŠ±1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯å†°çµç„°è‰1è¯å¼•è¯±å¦–è‰1è¾…è¯é»‘å¤©éº»1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰'],'æ˜“ç­‹ä¸¹': ['é…æ–¹ä¸»è¯ä¸‰å°¾é£å¶1è¯å¼•è¡€è©æ1è¾…è¯å¤©å‰‘ç¬‹1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰'],'é™ç¦…é­”ä¸¸': ['é…æ–¹ä¸»è¯åœ°å¿ƒæ·¬çµä¹³1è¯å¼•å¤©é—®èŠ±1è¾…è¯è¡€ç‰ç«¹1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯å¤©éº»ç¿¡çŸ³ç²¾1è¯å¼•æ¸Šè¡€å†¥èŠ±1è¾…è¯è‚ èš€è‰1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯å…«è§’ç„å†°è‰1è¯å¼•èŠ’ç„°æœ1è¾…è¯å‡¤è¡€æœ1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯å¥‡èŒ¸é€šå¤©èŠ1è¯å¼•é—®é“èŠ±1è¾…è¯å†°ç²¾èŠ1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰'],'åœ°ä»™ç„ä¸¸': ['é…æ–¹ä¸»è¯æª€èŠ’ä¹å¶èŠ±1è¯å¼•æµ©æ·¼æ°´è—¤1è¾…è¯å¤ªæ¸…ç„çµè‰1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯åæ°´ç„å†°æœ1è¯å¼•é“è•´èŠ±1è¾…è¯å†¥èƒéª¨1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰'],'æ¶ˆå†°å®ä¸¸': ['é…æ–¹ä¸»è¯å‰‘é­„ç«¹ç¬‹1è¯å¼•ç‚¼å¿ƒèŠ1è¾…è¯é¬¼é¢èŠ±1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯æ˜å¿ƒé—®é“æœ1è¯å¼•é‡å…ƒæ¢è¡€è‰1è¾…è¯æ¢§æ¡æœ¨1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰'],'åŒ–åŠ«ä¸¹': [],'å¤ªä¸Šç„é—¨ä¸¹': []};const basePing = ['å®å¿ƒè‰1', 'å‡è¡€è‰1', 'æµè¹è‰1', 'è›‡æ¶æœ1', 'è½»çµè‰1', 'é¾™è‘µ1', 'è©æèŠ±1', 'ä¹Œç¨ æœ¨1', 'å¤©çµæœ1', 'ç¯å¿ƒè‰1', 'ç™½æ²‰è„‚1', 'è‹¦æ›¼è—¤1', 'å¤©é—®èŠ±1', 'æ¸Šè¡€å†¥èŠ±1', 'æ’å¿ƒè‰1', 'çº¢ç»«è‰1', 'äº”æŸ³æ ¹1', 'å¤©å…ƒæœ1', 'åœ°é»„å‚1', 'ç«ç²¾æ£1', 'é£çµèŠ±1', 'ä¼é¾™å‚1'];const extraPing = ['ç´«çŒ´èŠ±1', 'ä¹å¶èŠ1', 'ç‚¼é­‚ç 1', 'æ«é¦™è„‚1', 'çŸ³é¾™èŠ®1', 'é”¦åœ°ç½—1', 'é¸¡å† è‰1', 'è¡€è²ç²¾1'];const assistHerbsMap = {'ç­ç¥å¤ä¸¸': ['æ··å…ƒæœ1', 'çš‡é¾™èŠ±1', 'é»‘å¤©éº»1'],'é™ç¦…é­”ä¸¸': ['è¡€ç‰ç«¹1', 'è‚ èš€è‰1', 'å‡¤è¡€æœ1', 'å†°ç²¾èŠ1'],'åœ°ä»™ç„ä¸¸': ['éœ¸ç‹èŠ±1', 'å¤ªæ¸…ç„çµè‰1', 'å†¥èƒéª¨1'],'æ¶ˆå†°å®ä¸¸': ['åœ°é¾™å¹²1', 'é¾™é¡»è—¤1', 'é¬¼é¢èŠ±1', 'æ¢§æ¡æœ¨1'],'åŒ–åŠ«ä¸¹': ['é˜´é˜³é»„æ³‰èŠ±1', 'å‰é­‚è¡€ç€1'],'å¤ªä¸Šç„é—¨ä¸¹': ['å¤ªä¹™ç¢§è¹èŠ±1', 'æ£®æª€æœ¨1']};const assistHierarchy1 = ['æ¶ˆå†°å®ä¸¸', 'åœ°ä»™ç„ä¸¸', 'é™ç¦…é­”ä¸¸', 'ç­ç¥å¤ä¸¸'];const assistHierarchy2 = ['å¤ªä¸Šç„é—¨ä¸¹', 'åŒ–åŠ«ä¸¹'];function getAssistHerbsForPill(pillName, useCross) {if (!useCross) {return assistHerbsMap[pillName] || [];}if (assistHierarchy1.includes(pillName)) {let index = assistHierarchy1.indexOf(pillName);let herbs = [];for (let i = 0; i <= index; i++) {herbs = herbs.concat(assistHerbsMap[assistHierarchy1[i]] || []);}return [...new Set(herbs)];}if (assistHierarchy2.includes(pillName)) {let index = assistHierarchy2.indexOf(pillName);let herbs = [];for (let i = 0; i <= index; i++) {herbs = herbs.concat(assistHerbsMap[assistHierarchy2[i]] || []);}return [...new Set(herbs)];}return assistHerbsMap[pillName] || [];}let pe = {'æ¶ˆå†°å®ä¸¸1': {0: ['ç¦»ç«æ¢§æ¡èŠ1', 'å°˜ç£Šå²©éºŸæœ1'], 1: basePing, 2: assistHerbsMap['æ¶ˆå†°å®ä¸¸']},'æ¶ˆå†°å®ä¸¸2': {0: ['å‰‘é­„ç«¹ç¬‹1'],1: ['é¬¼é¢èŠ±1', 'ç‚¼å¿ƒèŠ1'],2: assistHerbsMap['æ¶ˆå†°å®ä¸¸']},'æ¶ˆå†°å®ä¸¸3': {0: ['æ˜å¿ƒé—®é“æœ1'],1: ['æ¢§æ¡æœ¨1', 'é‡å…ƒæ¢è¡€è‰1'],2: assistHerbsMap['æ¶ˆå†°å®ä¸¸']},'åœ°ä»™ç„ä¸¸1': {0: ['æœ¨çµä¸‰é’ˆèŠ±1', 'éé‘«å¤©æ™¶è‰1'], 1: basePing, 2: assistHerbsMap['åœ°ä»™ç„ä¸¸']},'åœ°ä»™ç„ä¸¸2': {0: ['æª€èŠ’ä¹å¶èŠ±1'],1: ['å¤ªæ¸…ç„çµè‰1', 'æµ©æ·¼æ°´è—¤1'],2: assistHerbsMap['åœ°ä»™ç„ä¸¸']},'åœ°ä»™ç„ä¸¸3': {0: ['åæ°´ç„å†°æœ1'],1: ['å†¥èƒéª¨1', 'é“è•´èŠ±1'],2: assistHerbsMap['åœ°ä»™ç„ä¸¸']},'é™ç¦…é­”ä¸¸1': {0: ['åœ°å¿ƒæ·¬çµä¹³1', 'å¤©éº»ç¿¡çŸ³ç²¾1'], 1: basePing, 2: assistHerbsMap['é™ç¦…é­”ä¸¸']},'é™ç¦…é­”ä¸¸2': {0: ['å…«è§’ç„å†°è‰1'],1: ['å‡¤è¡€æœ1', 'èŠ’ç„°æœ1'],2: assistHerbsMap['é™ç¦…é­”ä¸¸']},'é™ç¦…é­”ä¸¸3': {0: ['å¥‡èŒ¸é€šå¤©èŠ1'],1: ['å†°ç²¾èŠ1', 'é—®é“èŠ±1'],2: assistHerbsMap['é™ç¦…é­”ä¸¸']},'ç­ç¥å¤ä¸¸1': {0: ['ä¸‰å¶é’èŠ1', 'ä¸ƒå½©æœˆå…°1'], 1: basePing, 2: assistHerbsMap['ç­ç¥å¤ä¸¸']},'ç­ç¥å¤ä¸¸2': {0: ['ä¸‰å°¾é£å¶1'], 1: ['å¤©å‰‘ç¬‹1', 'è¡€è©æ1'], 2: assistHerbsMap['ç­ç¥å¤ä¸¸']},'ç­ç¥å¤ä¸¸3': {0: ['å†°çµç„°è‰1'], 1: ['é»‘å¤©éº»1', 'è¯±å¦–è‰1'], 2: assistHerbsMap['ç­ç¥å¤ä¸¸']},'æ˜“ç­‹ä¸¹1': {0: ['ä¸‰å¶é’èŠ1', 'ä¸ƒå½©æœˆå…°1'], 1: basePing, 2: ['å¤©å‰‘ç¬‹1']},'æ˜“ç­‹ä¸¹2': {0: ['ä¸‰å°¾é£å¶1'], 1: ['å¤©å‰‘ç¬‹1', 'è¡€è©æ1'], 2: ['å¤©å‰‘ç¬‹1']},'æ˜“ç­‹ä¸¹3': {0: ['å†°çµç„°è‰1'], 1: ['é»‘å¤©éº»1', 'è¯±å¦–è‰1'], 2: ['å¤©å‰‘ç¬‹1']},'ç´ å¿ƒçœŸä¸¸1': {0: ['åœ°å¿ƒç«èŠ1', 'å¤©è‰çµå¶1'], 1: basePing, 2: ['ä¼´å¦–è‰1', 'å‰‘å¿ƒç«¹1', 'ç»é­‚è‰1', 'æœˆçµèŠ±1']},'ç´ å¿ƒçœŸä¸¸2': {0: ['é›ªç‰éª¨å‚1'],1: ['ç»é­‚è‰1', 'ç©¿å¿ƒè²1'],2: ['ä¼´å¦–è‰1', 'å‰‘å¿ƒç«¹1', 'ç»é­‚è‰1', 'æœˆçµèŠ±1']},'ç´ å¿ƒçœŸä¸¸3': {0: ['è…éª¨çµèŠ±1'],1: ['æœˆçµèŠ±1', 'é¾™é³æœ1'],2: ['ä¼´å¦–è‰1', 'å‰‘å¿ƒç«¹1', 'ç»é­‚è‰1', 'æœˆçµèŠ±1']},'åŒ–ç…é­”ä¸¸1': {0: ['è¡€è²ç²¾1', 'é¸¡å† è‰1'], 1: basePing, 2: ['çŸ³é¾™èŠ®1', 'é”¦åœ°ç½—1', 'å†°çµæœ1', 'ç‰é¾™å‚1']},'åŒ–ç…é­”ä¸¸2': {0: ['é“¶ç²¾èŠ1'],1: ['å†°çµæœ1', 'é›ªå‡èŠ±1'],2: ['çŸ³é¾™èŠ®1', 'é”¦åœ°ç½—1', 'å†°çµæœ1', 'ç‰é¾™å‚1']},'åŒ–ç…é­”ä¸¸3': {0: ['ç‰é«“èŠ1'],1: ['ç‰é¾™å‚1', 'é¾™çº¹è‰1'],2: ['çŸ³é¾™èŠ®1', 'é”¦åœ°ç½—1', 'å†°çµæœ1', 'ç‰é¾™å‚1']},'æ‘„é­‚é¬¼ä¸¸1': {0: ['ç´«çŒ´èŠ±1', 'ä¹å¶èŠ1'], 1: basePing, 2: ['æ«é¦™è„‚1', 'ç‚¼é­‚ç 1', 'ç„å†°èŠ±1', 'ç‚¼è¡€ç 1']},'æ‘„é­‚é¬¼ä¸¸2': {0: ['å¹»å¿ƒè‰1'],1: ['ç„å†°èŠ±1', 'å¼—å…°è‰1'],2: ['æ«é¦™è„‚1', 'ç‚¼é­‚ç 1', 'ç„å†°èŠ±1', 'ç‚¼è¡€ç 1']},'æ‘„é­‚é¬¼ä¸¸3': {0: ['é¬¼è‡¼è‰1'], 1: ['ç‚¼è¡€ç 1', 'ç„å‚1'], 2: ['æ«é¦™è„‚1', 'ç‚¼é­‚ç 1', 'ç„å†°èŠ±1', 'ç‚¼è¡€ç 1']},'åŒ–åŠ«ä¸¹1': {0: ['æœ¨çµä¸‰é’ˆèŠ±1', 'éé‘«å¤©æ™¶è‰1'], 1: basePing, 2: assistHerbsMap['åŒ–åŠ«ä¸¹']},'åŒ–åŠ«ä¸¹2': {0: ['æª€èŠ’ä¹å¶èŠ±1'],1: ['å¤ªæ¸…ç„çµè‰1', 'æµ©æ·¼æ°´è—¤1'],2: assistHerbsMap['åŒ–åŠ«ä¸¹']},'åŒ–åŠ«ä¸¹3': {0: ['åæ°´ç„å†°æœ1'],1: ['å†¥èƒéª¨1', 'é“è•´èŠ±1'],2: assistHerbsMap['åŒ–åŠ«ä¸¹']},'å¤ªä¸Šç„é—¨ä¸¹1': {0: ['ç¦»ç«æ¢§æ¡èŠ1', 'å°˜ç£Šå²©éºŸæœ1'], 1: basePing, 2: assistHerbsMap['å¤ªä¸Šç„é—¨ä¸¹']},'å¤ªä¸Šç„é—¨ä¸¹2': {0: ['å‰‘é­„ç«¹ç¬‹1'],1: ['é¬¼é¢èŠ±1', 'ç‚¼å¿ƒèŠ1'],2: assistHerbsMap['å¤ªä¸Šç„é—¨ä¸¹']},'å¤ªä¸Šç„é—¨ä¸¹3': {0: ['æ˜å¿ƒé—®é“æœ1'],1: ['æ¢§æ¡æœ¨1', 'é‡å…ƒæ¢è¡€è‰1'],2: assistHerbsMap['å¤ªä¸Šç„é—¨ä¸¹']}};function initLi(useHighHerbs, useCross) {let tempLi = {'æ‘„é­‚é¬¼ä¸¸': ['é…æ–¹ä¸»è¯ç´«çŒ´èŠ±1è¯å¼•è½»çµè‰1è¾…è¯æ«é¦™è„‚1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯ä¹å¶èŠ1è¯å¼•é¾™è‘µ1è¾…è¯ç‚¼é­‚ç 1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯å¹»å¿ƒè‰1è¯å¼•å¼—å…°è‰1è¾…è¯ç„å†°èŠ±1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯é¬¼è‡¼è‰1è¯å¼•ç„å‚1è¾…è¯ç‚¼è¡€ç 1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰'],'åŒ–ç…é­”ä¸¸': ['é…æ–¹ä¸»è¯è¡€è²ç²¾1è¯å¼•è©æèŠ±1è¾…è¯çŸ³é¾™èŠ®1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯é¸¡å† è‰1è¯å¼•ä¹Œç¨ æœ¨1è¾…è¯é”¦åœ°ç½—1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯é“¶ç²¾èŠ1è¯å¼•é›ªå‡èŠ±1è¾…è¯å†°çµæœ1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯ç‰é«“èŠ1è¯å¼•é¾™çº¹è‰1è¾…è¯ç‰é¾™å‚1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰'],'ç´ å¿ƒçœŸä¸¸': ['é…æ–¹ä¸»è¯åœ°å¿ƒç«èŠ1è¯å¼•å¤©çµæœ1è¾…è¯ä¼´å¦–è‰1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯å¤©è‰çµå¶1è¯å¼•ç¯å¿ƒè‰1è¾…è¯å‰‘å¿ƒç«¹1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯é›ªç‰éª¨å‚1è¯å¼•ç©¿å¿ƒè²1è¾…è¯ç»é­‚è‰1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯è…éª¨çµèŠ±1è¯å¼•é¾™é³æœ1è¾…è¯æœˆçµèŠ±1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰'],'ç­ç¥å¤ä¸¸': ['é…æ–¹ä¸»è¯ä¸‰å¶é’èŠ1è¯å¼•ç™½æ²‰è„‚1è¾…è¯æ··å…ƒæœ1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯ä¸ƒå½©æœˆå…°1è¯å¼•è‹¦æ›¼è—¤1è¾…è¯çš‡é¾™èŠ±1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯å†°çµç„°è‰1è¯å¼•è¯±å¦–è‰1è¾…è¯é»‘å¤©éº»1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰'],'æ˜“ç­‹ä¸¹': ['é…æ–¹ä¸»è¯ä¸‰å°¾é£å¶1è¯å¼•è¡€è©æ1è¾…è¯å¤©å‰‘ç¬‹1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰'],'é™ç¦…é­”ä¸¸': ['é…æ–¹ä¸»è¯åœ°å¿ƒæ·¬çµä¹³1è¯å¼•å¤©é—®èŠ±1è¾…è¯è¡€ç‰ç«¹1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯å¤©éº»ç¿¡çŸ³ç²¾1è¯å¼•æ¸Šè¡€å†¥èŠ±1è¾…è¯è‚ èš€è‰1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯å…«è§’ç„å†°è‰1è¯å¼•èŠ’ç„°æœ1è¾…è¯å‡¤è¡€æœ1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯å¥‡èŒ¸é€šå¤©èŠ1è¯å¼•é—®é“èŠ±1è¾…è¯å†°ç²¾èŠ1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰'],'åœ°ä»™ç„ä¸¸': ['é…æ–¹ä¸»è¯æª€èŠ’ä¹å¶èŠ±1è¯å¼•æµ©æ·¼æ°´è—¤1è¾…è¯å¤ªæ¸…ç„çµè‰1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯åæ°´ç„å†°æœ1è¯å¼•é“è•´èŠ±1è¾…è¯å†¥èƒéª¨1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰'],'æ¶ˆå†°å®ä¸¸': ['é…æ–¹ä¸»è¯å‰‘é­„ç«¹ç¬‹1è¯å¼•ç‚¼å¿ƒèŠ1è¾…è¯é¬¼é¢èŠ±1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰', 'é…æ–¹ä¸»è¯æ˜å¿ƒé—®é“æœ1è¯å¼•é‡å…ƒæ¢è¡€è‰1è¾…è¯æ¢§æ¡æœ¨1ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰'],'åŒ–åŠ«ä¸¹': [],'å¤ªä¸Šç„é—¨ä¸¹': []};let currentPing = [...basePing];if (useHighHerbs) {currentPing = [...basePing, ...extraPing];}for (let nn in pe) {let danName = nn.slice(0, -1);if (useHighHerbs && (danName === 'æ‘„é­‚é¬¼ä¸¸' || danName === 'åŒ–ç…é­”ä¸¸')) {continue;}let peItem = pe[nn];let mainHerbs = peItem[0];let assistHerbs = peItem[2];if (useCross) {assistHerbs = getAssistHerbsForPill(danName, true);}let herbList = peItem[1];if (herbList === basePing) {herbList = currentPing;}for (let i1 of mainHerbs) {for (let i2 of herbList) {for (let i3 of assistHerbs) {tempLi[danName].push(`é…æ–¹ä¸»è¯${i1}è¯å¼•${i2}è¾…è¯${i3}ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰`);}}}}return tempLi;}const danValue = {'æ¶ˆå†°å®ä¸¸': 300,'å¤ªä¸Šç„é—¨ä¸¹': 290,'åœ°ä»™ç„ä¸¸': 270,'åŒ–åŠ«ä¸¹': 260,'é™ç¦…é­”ä¸¸': 240,'ç­ç¥å¤ä¸¸': 210,'æ˜“ç­‹ä¸¹': 210,'ç´ å¿ƒçœŸä¸¸': 180,'åŒ–ç…é­”ä¸¸': 150,'æ‘„é­‚é¬¼ä¸¸': 120};const baseDanPriority = ['æ¶ˆå†°å®ä¸¸', 'å¤ªä¸Šç„é—¨ä¸¹', 'åœ°ä»™ç„ä¸¸', 'åŒ–åŠ«ä¸¹', 'é™ç¦…é­”ä¸¸', 'ç­ç¥å¤ä¸¸', 'æ˜“ç­‹ä¸¹', 'ç´ å¿ƒçœŸä¸¸', 'åŒ–ç…é­”ä¸¸', 'æ‘„é­‚é¬¼ä¸¸'];function formatProfit(profit) {if (profit >= 10000) {return (profit / 10000).toFixed(2) + 'äº¿çµçŸ³';} else {return profit + 'ä¸‡çµçŸ³';}}function calculateProfit(lisss) {let totalValue5 = 0;let totalValue6 = 0;let totalValue7 = 0;for (let n in lisss) {let pillValue = danValue[n];for (let i of lisss[n]) {let match = i.match(/ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰(\d+)$/);if (match) {let batches = parseInt(match[1]);totalValue5 += pillValue * batches * 5;totalValue6 += pillValue * batches * 6;totalValue7 += pillValue * batches * 7;}}}document.getElementById('profit-5').textContent = formatProfit(totalValue5);document.getElementById('profit-6').textContent = formatProfit(totalValue6);document.getElementById('profit-7').textContent = formatProfit(totalValue7);document.getElementById('profit-info').style.display = 'block';}function f1(lisss) {let result = '';for (let n in lisss) {for (let i of lisss[n]) {result += `<div class="item"><span>${n}&nbsp;&nbsp;\<br>${i.slice(0, 15)}\<br>${i.slice(15, )}</span><button class="copy-button copy-button1" data-text="${i}">å¤åˆ¶</button></div>`;}}function showNotification(message) {let notification = document.getElementById('notification');if (!notification) {notification = document.createElement('div');notification.id = 'notification';document.body.appendChild(notification);}notification.textContent = message;notification.style.display = 'block';setTimeout(() => {notification.style.display = 'none';}, 2000);}function copyToClipboard(text) {showNotification(`å¤åˆ¶æˆåŠŸ`);const tempTextArea = document.createElement('textarea');tempTextArea.value = text;document.body.appendChild(tempTextArea);tempTextArea.select();document.execCommand('copy');document.body.removeChild(tempTextArea);}document.getElementById('herb-info').innerHTML = result;calculateProfit(lisss);document.querySelectorAll('.copy-button').forEach(button => {button.addEventListener('click', function () {const textToCopy = this.getAttribute('data-text');copyToClipboard(textToCopy);});});}function lis0(yybb, useHighHerbs, useCross) {let lisss = {};let tempHerbs = {...yybb};let currentLi = initLi(useHighHerbs, useCross);let currentPriority = [...baseDanPriority];if (useHighHerbs) {currentPriority = currentPriority.filter(dan => dan !== 'æ‘„é­‚é¬¼ä¸¸' && dan !== 'åŒ–ç…é­”ä¸¸');}for (let n of currentPriority) {if (!currentLi[n]) continue;for (let txt of currentLi[n]) {const txtPattern = /ä¸»è¯(.*?)(\d+)è¯å¼•(.*?)(\d+)è¾…è¯(.*?)(\d+)ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰/g;let zy = txtPattern.exec(txt);if (!zy) continue;if (zy[1] !== zy[3] && zy[5] !== zy[3] && zy[1] !== zy[5]) {if (zy[1] in tempHerbs && tempHerbs[zy[1]] > 0 && zy[3] in tempHerbs && tempHerbs[zy[3]] > 0 && zy[5] in tempHerbs && tempHerbs[zy[5]] > 0) {let ss0 = [tempHerbs[zy[1]] / parseInt(zy[2]), tempHerbs[zy[3]] / parseInt(zy[4]), tempHerbs[zy[5]] / parseInt(zy[6])];let ss = Math.min(...ss0);if (ss > 0) {tempHerbs[zy[1]] -= ss * parseInt(zy[2]);tempHerbs[zy[3]] -= ss * parseInt(zy[4]);tempHerbs[zy[5]] -= ss * parseInt(zy[6]);try {lisss[n].push(`${txt}${ss}`);} catch (error) {lisss[n] = [`${txt}${ss}`];}}}}}}return lisss;}function extractInfo4(text) {
    let dicts = {};
    const namePattern = /([^\n]+?) (.*?)å“è¯æ (.*?)æ•°é‡:(.*)/g;
    const originalPattern1 = /åå­—ï¼š([^\n]+?)\næ‹¥æœ‰æ•°é‡:(\d+)/g;
    const originalPattern2 = /å“çº§ï¼š.*?\nåå­—ï¼š([^\n]+?)\næ‹¥æœ‰æ•°é‡:(\d+)/g;
    const pagePattern = /åå­—ï¼š([^\n]+?)\n.*?\næ‹¥æœ‰æ•°é‡:(\d+)/g;
    
    let nameMatch;
    while ((nameMatch = namePattern.exec(text)) !== null) {
        const herbName = nameMatch[1].replaceAll('ã€€', '').trim();
        dicts[herbName] = parseInt(nameMatch[4].replaceAll(' ', ''));
    }
    
    if (Object.keys(dicts).length === 0) {
        let originalMatch;
        while ((originalMatch = originalPattern1.exec(text)) !== null) {
            const herbName = originalMatch[1].trim();
            dicts[herbName] = parseInt(originalMatch[2]);
        }
        while ((originalMatch = originalPattern2.exec(text)) !== null) {
            const herbName = originalMatch[1].trim();
            dicts[herbName] = parseInt(originalMatch[2]);
        }
        while ((originalMatch = pagePattern.exec(text)) !== null) {
            const herbName = originalMatch[1].trim();
            dicts[herbName] = parseInt(originalMatch[2]);
        }
    }
    
    return dicts;
}document.getElementById('process-button').addEventListener('click', function () {const userInputText = document.getElementById('user-input').value;let dicts = extractInfo4(userInputText);if (dicts) {let useHighHerbs = document.getElementById('use-high-herbs').checked;let useCross = document.getElementById('use-cross-herbs').checked;let finalLisss = {};if (!useCross) {finalLisss = lis0(dicts, useHighHerbs, false);} else {let firstMatch = lis0(JSON.parse(JSON.stringify(dicts)), useHighHerbs, false);let remainingHerbs = JSON.parse(JSON.stringify(dicts));for (let n in firstMatch) {for (let i of firstMatch[n]) {let match = i.match(/ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰(\d+)$/);if (match) {let batches = parseInt(match[1]);let txtPattern = /ä¸»è¯(.*?)(\d+)è¯å¼•(.*?)(\d+)è¾…è¯(.*?)(\d+)ä¸¹ç‚‰å¯’é“é“¸å¿ƒç‚‰/g;let zy = txtPattern.exec(i);if (zy) {remainingHerbs[zy[1]] -= batches * parseInt(zy[2]);remainingHerbs[zy[3]] -= batches * parseInt(zy[4]);remainingHerbs[zy[5]] -= batches * parseInt(zy[6]);}}}}let secondMatch = lis0(remainingHerbs, useHighHerbs, true);for (let n in firstMatch) {finalLisss[n] = firstMatch[n];}for (let n in secondMatch) {if (finalLisss[n]) {finalLisss[n] = finalLisss[n].concat(secondMatch[n]);} else {finalLisss[n] = secondMatch[n];}}}f1(finalLisss);}});document.getElementById('clear-button').addEventListener('click', function () {document.getElementById('user-input').value = '';document.getElementById('herb-info').innerHTML = '';document.getElementById('profit-info').style.display = 'none';});</script></body></html>
<!--çˆ±æ¥è‡ªå‰‘èˆœ-->